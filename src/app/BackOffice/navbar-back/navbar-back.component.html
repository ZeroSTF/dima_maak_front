<!-- Navbar -->
<nav class="main-header navbar navbar-expand navbar-dark">
  <!-- Left navbar links -->
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
      <a routerLink="/admin" class="nav-link">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link active" aria-current="page" (click)="logout()">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    </li>
  </ul>

  <!-- Right navbar links -->
  <ul class="navbar-nav ml-auto">
    <!-- Notifications Dropdown Menu -->
    <li class="nav-item dropdown">
      <a class="nav-link" data-toggle="dropdown" routerLink="#"(click)="toggleDropdown()">
        <i class="far fa-bell"></i>
        <span class="badge badge-warning navbar-badge">{{ unreadNotificationsCount }}</span>
      </a>
      <ul class="submenu" *ngIf="isDropdownOpen">
        <span class="dropdown-item dropdown-header" style="transform: translateX(calc(20% - 5rem));">{{ unreadNotificationsCount }} Notifications</span>
        <div class="dropdown-divider" style="transform: translateX(calc(20% - 5rem));"></div>
        <div style="max-height: 300px; overflow-y: scroll; overflow-x: hidden; transform: translateX(calc(20% - 5rem));">
        <ng-container *ngFor="let notification of sortedNotifications">
        <a routerLink="{{ '/notification/' + notification.id }}" class="dropdown-item" style="background-color: #454D55;">
          <i class="fas fa-envelope mr-2"></i> {{ notification.content | slice: 0: 10 }}{{ notification.content.length > 10? '...' : '' }}
          <span class="float-right text-muted text-sm">{{ timeDiff(notification.date) }}</span>
        </a>
        <div class="dropdown-divider"></div>
        </ng-container>
        </div>
        <a routerLink="/notification" class="dropdown-item dropdown-footer" style="transform: translateX(calc(20% - 5rem));">All notifications</a>
      </ul>
    </li>
  </ul>
</nav>
<!-- /.navbar -->
<!--TODO fix links to take to new components-->
